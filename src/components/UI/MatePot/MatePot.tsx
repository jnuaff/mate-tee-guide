import React from "react";
import "./MatePot.css";

export const Yerba = () => {
	return (
		<path
			d="M227.33377,89.07303c-38.21289,0-76.31555,10.35307-113.57697,16.56331-10.53342,1.75557-20.41264-.58983-30.76043,3.54928-6.43353,2.57341-17.94487,13.10018-22.47878,18.92949-10.14847,13.04803-8.8732,55.62949-8.8732,72.1687c0,13.24699-4.82451,35.72916.59155,47.91529c2.90145,6.52827,70.6665.01877,81.0419-.59155c14.62911-.86054,87.43079,7.48293,93.46438,2.95773c5.07486-3.80614,2.95773-40.87294,2.95773-48.50683c0-16.36892-2.05313-33.82387-3.54928-50.28147-2.88138-31.69513,14.15458-107.62746-47.91528-57.97158"
			transform="translate(.000001 0)"
			fill="#7CA13F"
			stroke="#7CA13F"
			stroke-width="4"
		/>
	);
};

export const Water = () => {
	return (
		<>
			<path
				d="M53.419041,125.74893c4.34861-21.74306,51.947199-68.0834,70.394049-44.36601c25.41039,32.6705-57.68305,26.13872-68.61942,44.36601"
				transform="translate(0 0.000001)"
				fill="#538AB0"
				stroke="#538AB0"
				stroke-width="4"
			/>
		</>
	);
};

export const Drops = () => {
	return (
		<>
			<path
				className="drops"
				d="M114.63712,36.94354c-.54682,2.73409-11.00999,23.88003,2.38993,17.92451c8.42226-3.74323,2.1751-15.15192-1.79245-19.11947"
				transform="translate(.000001 0.000001)"
				fill="#538AB0"
				stroke="#538AB0"
				stroke-width="4"
			/>
			<path
				className="drops"
				d="M112.84467,64.42778c0,4.38617-13.02347,21.46178-.59748,22.70437c8.81207.88121,2.5316-17.81363,1.79245-21.50941"
				fill="#538AB0"
				stroke="#538AB0"
				stroke-width="4"
			/>
			<path
				className="drops"
				d="M121.80692,66.22023c0,5.1909-4.27462,25.19536,1.19497,26.28928c10.54577,2.10915,1.84786-18.38346.59748-21.50941"
				fill="#538AB0"
				stroke="#538AB0"
				stroke-width="4"
			/>
			<path
				className="drops"
				d="M131.96414,41.12593c0,3.1319-7.99817,28.7064,1.79245,20.31444c4.13123-3.54105-.91043-17.09932-1.79245-21.50941"
				fill="#538AB0"
				stroke="#538AB0"
				stroke-width="4"
			/>
		</>
	);
};

export const Straw = ({ currentStep }: { currentStep: number }) => {
	return (
		<>
			<path
				className={`straw ${currentStep === 3 ? "straw-appear" : ""}`}
				d="M32.18439,14.83665c50.38563,0,49.1125,11.35058,66.32067,54.371c1.66153,4.15384,13.59911,22.35715,11.35219,26.28928-10.58782,18.52868-29.51217-42.95116-31.66663-47.79868-16.10642-36.23946-43.82844-23.514-47.79868-27.48424-.71809-.71809,1.5058-2.53326.59748-2.98742-1.84798-.92399-3.48234,10.82267,0,2.98742.8129-1.82904,2.59903-5.97484.59748-5.97484-2.30479,0-1.79245,5.12002-1.79245,5.97484"
				transform="translate(.000001 0)"
				fill="#827C75"
				stroke="#827C75"
				stroke-width="4"
			/>
		</>
	);
};

export const Smoke = () => {
	return (
		<>
			<path
				d="M164.82573,61.44037c15.52392-3.10479-7.04019-10.25841-6.57232-14.93709.75118-7.51182,14.33893-5.38071,13.14464-11.35219-.78521-3.92605-9.84578-6.98294-13.14464-8.96225"
				transform="translate(.000001 0)"
				fill="none"
				stroke="#D4C1B2"
				stroke-width="4"
			/>
			<path
				d="M185.14017,63.8303c16.0505,0-3.12682-14.08466-4.77987-16.72954-3.87086-6.19337,7.41494-8.15536-.59748-21.50941"
				fill="none"
				stroke="#D4C1B2"
				stroke-width="2"
			/>
			<path
				d="M203.66216,63.23282c7.89867-7.89867-4.40429-11.64232-5.97483-17.92451-1.40639-5.62557,5.10855-9.16385-1.79245-14.3396"
				transform="translate(.000001 0)"
				fill="none"
				stroke="#D4C1B2"
				stroke-width="4"
			/>
		</>
	);
};

export const MatePot = ({ currentStep }: { currentStep: number }) => {
	const [showDrops, setShowDrops] = React.useState<boolean>(false);
	const [showWater, setShowWater] = React.useState<boolean>(false);
	const [showYerba, setShowYerba] = React.useState<boolean>(false);

	React.useEffect(() => {
		if (currentStep === 2) {
			setTimeout(() => {
				setShowYerba(true);
			}, 1500);
		} 
		if(currentStep > 2){
			setShowYerba(true);
		}
		if (currentStep === 4) {
			setTimeout(() => {
				setShowDrops(true);
			}, 1000);
			setTimeout(() => {
				setShowDrops(false);
				setShowWater(true);
			}, 4000);
		}
	}, [currentStep]);
	return (
		<svg
			id="ecxRYQE2HlF1"
			xmlns="http://www.w3.org/2000/svg"
			viewBox="0 0 300 300"
			shape-rendering="geometricPrecision"
			text-rendering="geometricPrecision"
			width="500">
			<path
				d="M53.41904,65.41116c0,45.54541-2.95773,91.0282-2.95773,136.64729c0,6.41502-1.97787,47.64431,0,50.28147c1.28068,1.70757,88.52935-1.18309,98.7883-1.18309c25.16079,0,51.84042,1.63476,76.90107,4.14083c1.96204.1962,4.76937,1.60454,5.91547,0c1.65622-2.31871,0-36.67036,0-42.59136c0-37.79561-1.77464-75.70738-1.77464-113.57697c0-4.90927,1.51816-38.79251,0-40.81672-.74825-.99767-2.30219-1.18309-3.54928-1.18309-10.51527,0-26.14462,9.55032-36.6759,12.42248-26.15878,7.13421-58.2939,5.93994-84.59118,3.54928-1.17823-.10711-2.37105.10711-3.54928,0-1.00131-.09103-1.95643-.50052-2.95773-.59155-12.67843-1.15258-26.10108-1.61908-38.45054-5.32392-1.97182-.59155-6.56647.17836-5.91547-1.77464.66695-2.00085,36.12146-11.24557,39.63363-11.83094c28.87786-4.81298,109.5684-19.38877,132.50647,3.54928"
				transform="translate(.000001 0.000001)"
				fill="none"
				stroke="#784C2A"
				stroke-width="4"
			/>
			{showYerba && <Yerba />}
			{showDrops && <Drops />}

			{currentStep > 2 && <Straw currentStep={currentStep} />}
			{showWater && <Water />}
			{currentStep === 5 && (
				<>
					<Water />
					<Smoke />
				</>
			)}
		</svg>
	);
};
